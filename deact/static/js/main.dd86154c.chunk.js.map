{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["formatTime","time","Math","round","minutes","floor","seconds","common_elem","transcript","variants","common","filter","value","includes","console","log","length","a","n","g","play_variants","pause_variants","jump_variants","concat","future_variants","past_varaints","add_variants","bookmark_variants","again_variants","Small","zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety","Magnitude","thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","text2num","s","toString","split","forEach","feach","w","x","extract_time","idx","nnumber","flag","indexOf","isNaN","parseFloat","isFinite","parseInt","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","videoState","videoId","url","duration","currentTime","transcriptTime","previousTranscript","videoTarget","bookmarks","returnpoints","showInstruction","downloadSubtitles","bind","assertThisInitialized","_onPlay","_onPause","_onStateChange","handleChange","handleSubmit","onClickHandler","_onReady","onListenHandler","handleShow","_this$props","recognition","stopListening","lang","SpeechGrammarList","window","webkitSpeechGrammarList","mozSpeechGrammarList","msSpeechGrammarList","oSpeechGrammarList","speechRecognitionList","addFromString","grammars","sessionStorage","getItem","axios","post","pauses","transcripts","transcript_times","then","response","setItem","data","id","video_id","variable","vars","i","pair","decodeURIComponent","setState","event","target","getDuration","getCurrentTime","_this2","updateInterval","setInterval","clearInterval","getPlayerState","_this3","_this$props2","listening","startListening","resetTranscript","transcriptInterval","_this3$props","onTranscriptHandler","_this$state","arr","extra_words","item","extract_description","toLowerCase","_this$state2","_this$state3","push","sort","seekTo","pauseVideo","playVideo","findWord","_this$state4","e","name","_ref","defineProperty","getQueryVariable","words","_this4","_this$state5","keyword","previousTimeArray","futureTimeArray","subtitle","endTime","end","content","start","found","_this$props3","_this$state6","react_default","createElement","className","Header","as","Form","onSubmit","Input","onChange","action","icon","placeholder","href","YouTube","onPause","onPlay","onReady","onStateChange","opts","playerVars","autoplay","style","zIndex","Button","onClick","primary","secondary","map","key","left","Progress","percent","progress","color","Dimmer","active","Loader","Component","SpeechRecognition","autoStart","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dd86154c.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport YouTube from 'react-youtube';\nimport SpeechRecognition from 'react-speech-recognition';\nimport { Header, Input, Form, Button, Progress, Dimmer, Loader } from 'semantic-ui-react';\nimport './App.css';\nimport subtitle from './6aVOjLuw-Qg.json';\nimport axios from 'axios';\nimport {Link}  from 'react-router-dom';\n\n// Helper Functions\n\nfunction formatTime(time) {\n  time = Math.round(time);\n\n  var minutes = Math.floor(time / 60),\n      seconds = time - minutes * 60;\n\n  seconds = seconds < 10 ? '0' + seconds : seconds;\n\n  return minutes + \":\" + seconds;\n}\n\nfunction extract_description(transcript) {\n  const arr = transcript.split(\" \");\n  const extra_words = ['I', 'want', 'to', 'umm','hmm', 'how', 'let', 'me', 'like', 'well', 'let\\'s', 'from', 'for', 'can', 'may', 'when', 'where', 'she', 'he', 'the', 'an', 'a']\n  return arr.filter(function(item) { \n    return extra_words.indexOf(item) < 0; // Returns true for items not found in extra_words.\n });\n}\n\nfunction common_elem(transcript, variants) {\n  var common = transcript.filter(value => variants.includes(value));\n\n  console.log('tr is ', transcript, 'vars is ', variants);\n  if (common.length){\n    console.log('common is ', common);\n    return common;\n  }\n  else{\n    return false;\n  }\n}\n\n//can be given alone; \nvar play_variants = ['play', 'go', 'show', 'resume', 'begin', 'watch', 'start'];\n//can be given alone; if followed by time, pause for that duration. Otherrwise, pause infinitely.\nvar pause_variants = ['pause', 'stop', 'hold', 'wait' ];\n\n//if followed by bookmark or descriptive words, go to that part. \nvar jump_variants = ['jump', 'find', 'see', 'search', 'look'].concat(play_variants);\n\n//if followed by time, go that much. Otherwise, default is 30 secs.\nvar future_variants = ['future', 'skip', 'forward', 'next', 'later'];\nvar past_varaints = ['past', 'before', 'ago', 'previous', 'back', 'backward', 'rewind'];\n\n//if followed by a word from bookmark_variants, add bookmark\nvar add_variants = ['add', 'create', 'new', 'mark', 'save', 'remember'];\nvar bookmark_variants = ['bookmark', 'now', 'this', 'that', 'here', 'current'];\n\n//if there was recent navigate action, repeat that. else, go back 30 sec.\nvar again_variants = ['again', 'replay', 'repeat'];\n\nvar this_variants = ['this', 'that', 'here', 'it'];\n\n\n//chars to numbers\nvar Small = {\n  'zero': 0,\n  'one': 1,\n  'two': 2,\n  'three': 3,\n  'four': 4,\n  'five': 5,\n  'six': 6,\n  'seven': 7,\n  'eight': 8,\n  'nine': 9,\n  'ten': 10,\n  'eleven': 11,\n  'twelve': 12,\n  'thirteen': 13,\n  'fourteen': 14,\n  'fifteen': 15,\n  'sixteen': 16,\n  'seventeen': 17,\n  'eighteen': 18,\n  'nineteen': 19,\n  'twenty': 20,\n  'thirty': 30,\n  'forty': 40,\n  'fifty': 50,\n  'sixty': 60,\n  'seventy': 70,\n  'eighty': 80,\n  'ninety': 90\n};\n\nvar Magnitude = {\n  'thousand': 1000,\n  'million': 1000000,\n  'billion': 1000000000,\n  'trillion': 1000000000000,\n  'quadrillion': 1000000000000000,\n  'quintillion': 1000000000000000000,\n  'sextillion': 1000000000000000000000,\n  'septillion': 1000000000000000000000000,\n  'octillion': 1000000000000000000000000000,\n  'nonillion': 1000000000000000000000000000000,\n  'decillion': 1000000000000000000000000000000000,\n};\n\nvar a, n, g;\n\nfunction text2num(s) {\n  a = s.toString().split(/[\\s-]+/);\n  n = 0;\n  g = 0;\n  a.forEach(feach);\n  return n + g;\n}\n\nfunction feach(w) {\n  var x = Small[w];\n  if (x != null) {\n    g = g + x;\n  }\n  else if (w === \"hundred\") {\n    g = g * 100;\n  }\n  else {\n    x = Magnitude[w];\n    if (x != null) {\n      n = n + g * x\n      g = 0;\n    }\n  }\n}\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nfunction extract_time(transcript) {\n  var idx, nnumber;\n  var flag = 0;\n  if (transcript.indexOf(\"minutes\") !== -1) {\n    flag = 1;\n    idx = transcript.indexOf(\"minutes\") - 1;\n  } \n  else if (transcript.indexOf(\"minute\")!== -1) {\n    flag = 1;\n    idx = transcript.indexOf(\"minute\") - 1;\n  } \n  else if (transcript.indexOf(\"seconds\")!== -1) {\n    idx = transcript.indexOf(\"seconds\") - 1;\n  } \n  else if (transcript.indexOf(\"second\")!== -1) {\n    idx = transcript.indexOf(\"second\") - 1;\n  } \n  else {\n    return false;\n  }\n  \n  if (isNumeric(transcript[idx]) === false){\n    nnumber = text2num(transcript[idx]);    \n  } \n  else{\n    nnumber = parseInt(transcript[idx]);\n  }\n\n  if (flag === 1){\n    nnumber *= 60;\n  }\n  console.log(\"number of seconds: \" + nnumber);\n  return nnumber;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      videoState: null,\n      videoId: \"6aVOjLuw-Qg\",\n      url: '',\n      duration: 0,\n      currentTime: 0,\n      transcriptTime: 2,\n      previousTranscript: '',\n      videoTarget: null,\n      bookmarks: [],\n      returnpoints: [],\n      showInstruction: false,\n    }\n    this.downloadSubtitles = this.downloadSubtitles.bind(this);\n    this._onPlay = this._onPlay.bind(this);\n    this._onPause = this._onPause.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this._onReady = this._onReady.bind(this);\n    this.onListenHandler = this.onListenHandler.bind(this);\n    this.handleShow = this.handleShow.bind(this)\n\n  }\n\n  \n  componentDidMount() {\n    const { recognition, stopListening } = this.props;\n    recognition.lang = 'en-US';\n    const grammar = '#JSGF V1.0; grammar colors; public <action> = pause | play | jump | add;'\n    const SpeechGrammarList =\n        window.SpeechGrammarList ||\n        window.webkitSpeechGrammarList ||\n        window.mozSpeechGrammarList ||\n        window.msSpeechGrammarList ||\n        window.oSpeechGrammarList;\n    if (SpeechGrammarList) {\n      const speechRecognitionList = new SpeechGrammarList();\n      speechRecognitionList.addFromString(grammar, 1);\n      recognition.grammars = speechRecognitionList;\n      console.log(speechRecognitionList);\n      // Use speechRecognitionList\n    } else {\n      // SpeechGrammarList not supported by the user's browser; show this in the UI\n      console.log(\"cannot find the matching grammarList\")\n    }\n\n    if (sessionStorage.getItem('sessionCreated') === null) {\n      axios.post('https://rubyslippers.kixlab.org/backend/sessions/', {\n        pauses: [],\n        bookmarks: [],\n        transcripts: [],\n        transcript_times: [],\n        returnpoints: []\n      }).then((response) => {\n        sessionStorage.setItem('sessionID', response.data.id)\n        sessionStorage.setItem('sessionCreated', true)\n        console.log('new session created' + sessionStorage.getItem('sessionID'))\n      });\n    }\n    // this.downloadSubtitles();\n  }\n\n  async downloadSubtitles(video_id){\n    axios.post('https://rubyslippers.kixlab.org/download_subtitles/', {\n      video_id: video_id\n    }).then((response) => {\n      console.log(response)\n    });\n  }\n\n  getQueryVariable(url, variable) {\n    const parameters = url.split('?')[1]\n    const vars = parameters.split('&');\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split('=');\n        if (decodeURIComponent(pair[0]) === variable) {\n            return decodeURIComponent(pair[1]);\n        }\n    }\n    console.log('Query variable %s not found', variable);\n  }\n\n  handleShow() {\n    this.setState({\n      showInstruction: true\n    })\n  }\n  _onReady(event) {\n    this.setState({\n      duration: event.target.getDuration(), \n      currentTime: event.target.getCurrentTime(),\n      videoTarget: event.target,\n    })\n  }\n\n  _onPlay(event) {\n    const updateInterval = setInterval(() => this.setState({currentTime: event.target.getCurrentTime()}), 100);\n    this.setState({\n      updateInterval: updateInterval\n    })\n    console.log('play the video!!')\n  }\n\n  _onPause(event) {\n    const { updateInterval } = this.state;\n    clearInterval(updateInterval);\n    axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_pause/', {\n      time: formatTime(event.target.getCurrentTime())\n    });\n    console.log('pause time is ', formatTime(event.target.getCurrentTime()))\n  }\n\n  _onStateChange(event) {\n    const { duration } = this.state;\n    this.setState({\n      videoState: event.target.getPlayerState(),\n    })\n    if (duration != event.target.getDuration())\n      this.setState({\n        duration: event.target.getDuration(),\n        videoTarget: event.target,\n        currentTime: 0,\n      })\n  }\n\n  onListenHandler() {\n    console.log('listen handler called')\n    const { listening, startListening, stopListening, resetTranscript } = this.props;\n    \n    if (listening) {\n      console.log('stop listening')\n      resetTranscript();\n      this.setState({previousTranscript: '', transcriptTime: 2});\n      clearInterval(this.state.transcriptInterval);\n      stopListening();\n    }\n    else {\n      console.log('start listening')\n      startListening();\n      const transcriptInterval = setInterval(() => {\n        const { listening, transcript} = this.props;\n        this.onTranscriptHandler(transcript);\n        if(listening && this.state.transcriptTime){\n          this.setState({transcriptTime: this.state.transcriptTime - 1});\n          console.log('waiting for transcription', this.state.transcriptTime);\n        }\n        else{\n          this.setState({transcriptTime: 2});\n        }     \n      }, 1000);\n      this.setState({transcriptInterval: transcriptInterval});\n    }\n  }\n\n  onTranscriptHandler(transcript) {\n    var time, common;\n    const { resetTranscript } = this.props;\n    const {previousTranscript, transcriptTime, videoTarget, currentTime} = this.state;\n    console.log('transcript is: ', transcript, this.state.previousTranscript)\n    //update previousTranscript and wait for more\n    if(transcript !== previousTranscript){\n      this.setState({previousTranscript: transcript});\n      this.setState({transcriptTime: 2});\n    }\n    //reset previousTranscript and Transcript and process\n    else if(transcript !== '' && !transcriptTime){\n      axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_transcript/', {\n        time: formatTime(currentTime),\n        transcript: transcript\n      });\n      console.log('save transcript', transcript)\n\n      transcript = transcript.toLowerCase()\n      const arr = extract_description(transcript);\n      console.log('arr is ', arr);\n      if(!arr.length){ \n        // TODO: show alert\n        console.log('Please be more descriptive1');\n      }\n\n      else if (common_elem(arr, bookmark_variants)) {\n        const { bookmarks, currentTime, returnpoints } = this.state;\n        if (common_elem(arr, add_variants)) {\n          const { currentTime, bookmarks } = this.state;\n          bookmarks.push(currentTime);\n          bookmarks.sort();\n          this.setState({bookmarks: bookmarks});\n          axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_bookmark/', {\n            time: formatTime(currentTime)\n          });\n          console.log('bookmark time is ', formatTime(currentTime))\n        }\n        let idx = 0;\n        while(bookmarks[++idx] < currentTime);\n        idx--;\n        if (idx===0 && bookmarks[0] > currentTime) idx=-1;\n        console.log('next bookmark', idx, bookmarks, bookmarks[idx])\n        if (arr.includes('next') && bookmarks.length>idx) {\n          console.log('next bookmark', idx, bookmarks, bookmarks[idx])\n          axios.post('https://rubyslippers.kixlab.org/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n            time: formatTime(currentTime)\n          });\n          returnpoints.push(currentTime);\n          this.state.videoTarget.seekTo(bookmarks[idx+1]);\n        }\n        else if (arr.includes('previous') && bookmarks.length>0 && bookmarks[idx]<currentTime) {\n          axios.post('https://rubyslippers.kixlab.org/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n            time: formatTime(currentTime)\n          });\n          returnpoints.push(currentTime);\n          this.state.videoTarget.seekTo(bookmarks[idx]);\n        }\n      }\n      else if(common_elem(arr, future_variants)) {\n        if (arr.length === 1){\n          videoTarget.seekTo(currentTime + 30);\n        }\n        else if (time = extract_time(arr)){\n          videoTarget.seekTo(currentTime + time);\n        }\n        else{\n          console.log('Please provide time');\n        }\n      }\n      else if(common_elem(arr, past_varaints)) {\n        if (arr.length === 1){\n          videoTarget.seekTo(currentTime - 30);\n        }\n        else if (time = extract_time(arr)){\n          videoTarget.seekTo(currentTime - time);\n        }\n        else{\n          console.log('Please provide time');\n        }\n      }\n      else if (common_elem(arr, pause_variants)){\n        if (arr.length === 1){\n          videoTarget.pauseVideo();\n        }\n        else if (time = extract_time(arr)){\n          //TODO: pause for that long and play again\n        }\n      }\n      else if (common = common_elem(arr, jump_variants)){\n        if (arr.length === 1){\n          if(common_elem(arr, play_variants)) {\n            console.log('here play is called');\n            videoTarget.playVideo();\n          }\n          else{\n            console.log('Please be more descriptive2')\n          }\n        }\n        else{\n          this.findWord(arr.filter(value => !common.includes(value)));\n        }\n      }\n      else if (common_elem(arr, again_variants)) {\n        // TODO: if there was recent navigate action, repeat that. else, go back 30 sec.\n        videoTarget.seekTo(currentTime - 30);\n      }\n      else if (arr.includes('return')){\n        const {returnpoints, currentTime } = this.state;\n        console.log('here return is called', returnpoints);\n        axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n          time: formatTime(currentTime)\n        });\n        this.state.videoTarget.seekTo(returnpoints[returnpoints.length-1]);\n        returnpoints.push(currentTime);\n      }\n      else{\n        console.log('Please be more descriptive4');\n      }\n      \n      resetTranscript();\n      this.setState({previousTranscript: ''})\n    }\n    \n  }\n\n  onClickHandler() {\n    if ( this.state.videoTarget.getPlayerState() === 1 ) this.state.videoTarget.pauseVideo();\n    else this.state.videoTarget.playVideo();\n  }\n\n  handleChange(e, { name, value }) {\n    this.setState({ [name]: value });\n    console.log(\"handle change\");\n  }\n\n  handleSubmit() {\n    const videoId = this.getQueryVariable(this.state.url,'v');\n    this.setState({videoId: videoId, url: '' })\n    console.log(\"changed the video\");\n    this.downloadSubtitles(videoId)\n  }\n\n  findWord(words) {\n    console.log(words);\n    const { currentTime,returnpoints } = this.state;\n    //keyword matching\n    if(words.length === 1){\n      let keyword = words[0]\n      let previousTimeArray = []; // array to store timestamps in which word appeared before the current time\n      let futureTimeArray = []; // array to store timestamps in which word appears ahead of the current time\n      for (let i = 0; i<subtitle.length; i++) {\n        let endTime = subtitle[i].end;\n        let content = subtitle[i].content;\n        if (content.includes(keyword)) {\n          currentTime >= endTime ? previousTimeArray.push(subtitle[i]) : futureTimeArray.push(subtitle[i]);\n        }\n      }\n      console.log('prev array: ', previousTimeArray);\n      console.log('future array: ', futureTimeArray);\n      if(previousTimeArray.length){\n        axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n          time: formatTime(currentTime)\n        });\n        returnpoints.push(currentTime);\n        this.state.videoTarget.seekTo(previousTimeArray[previousTimeArray.length-1].start);\n        this.state.videoTarget.playVideo();\n      }\n      else if (futureTimeArray.length){\n        axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n          time: formatTime(currentTime)\n        });\n        returnpoints.push(currentTime);\n        this.state.videoTarget.seekTo(futureTimeArray[futureTimeArray.length-1].start);\n        this.state.videoTarget.playVideo();\n      }\n      else{\n        console.log('cannot find the keyword');\n      }\n    }\n    //sentence similarity\n    else{\n      axios.post('https://rubyslippers.kixlab.org/find_sentence/', {\n        transcript: words\n      }).then((response) => {\n        axios.post('https://rubyslippers.kixlab.org/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_returnpoint/', {\n          time: formatTime(currentTime)\n        });\n        if(response.data.found){\n          returnpoints.push(currentTime);\n          this.state.videoTarget.seekTo(response.data.time)\n          this.state.videoTarget.playVideo();\n        }\n        else{\n          console.log(\"no similar conent\");\n        }\n      });\n    }\n    \n  }\n\n  render() {\n    const { transcript, listening } = this.props;\n    const { videoId, url, duration, currentTime, videoTarget, bookmarks, videoState } = this.state;\n    // if (videoState && videoState === 5 && this.state.videoTarget.getDuration() != duration) {\n    //   this.setState({duration: this.state.videoTarget.getDuration()})\n    // }\n    return (\n      <div className=\"App\">\n        <div className=\"header-title\">\n          <Header as=\"h2\">\n            VoiceYoutubeDemo\n          </Header>\n        </div>\n        <div className=\"input-url\">\n          <Form onSubmit={this.handleSubmit}>\n            <Input id=\"url\" name=\"url\" onChange={this.handleChange} action={{ icon: 'search' }} value={url} placeholder='Submit youtube URL' />\n          </Form>\n          <a href='https://rubyslippers.kixlab.org' target=\"_blank\" id=\"instruction\" className=\"readme\">README</a>\n        </div>\n        <div className=\"container-wrapper\">\n          <div className=\"container-video\">\n            <YouTube\n              className=\"youtube-video\"\n              videoId={videoId}\n              onPause={this._onPause}\n              onPlay={this._onPlay}\n              onReady={this._onReady}\n              onStateChange={this._onStateChange}\n              opts={{playerVars: {autoplay: 1, start:0}}}\n            />\n            <div className=\"overflow\" style={{zIndex: videoState === 1 || videoState === '-1' || !videoState ? '-1' : '100'}}>\n            </div>\n          </div>\n        </div>\n        {videoTarget ?\n        <div className=\"container-wrapper\">\n          <div className=\"container-buttons\">\n            <Button onClick={this.onClickHandler} primary>{videoState === 1 ? \"Pause\" : \"Play\"}</Button>\n            <Button onClick={this.onListenHandler} secondary>{listening ? \"Stop Listening\" : \"Start Listening\"}</Button>\n          </div>\n          <div className=\"progressBar\">\n            {bookmarks.map((value) => <div className=\"bookmark-tip\" key={value} style={{left: value/duration*100+\"%\"}}/>)}\n            <Progress percent={Math.floor(currentTime/duration*100)} progress color='blue' />\n          </div>\n          <div className=\"container-transcript\">\n            <Header as=\"h4\">Transcript</Header>\n            <p>{listening ? \"The app is listening\" : \"Please click Start Listening\"}</p> \n            {transcript}\n          </div>\n        </div>\n        :\n        <Dimmer active>\n          <Loader content='loading' />\n        </Dimmer>\n        }\n      </div>\n    );\n  }\n}\n\nconst options = {\n  autoStart: false // true?\n\n}\n\nexport default SpeechRecognition(options)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}